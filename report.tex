\documentclass[unicode, 14pt, a4paper, oneside, fleqn]{extreport}
%edu.ci.nsu.ru ghtlbgkjvyfz ghfrnbrf
%rolcon@mail.ru

\usepackage{graphicx} % для вставки картинок
\usepackage{amssymb,amsfonts,amsmath,amsthm} %формулы 
\usepackage{indentfirst} % отделять первую строку раздела абзацным отступом тоже
\usepackage{multirow} % улучшенное форматирование таблиц
\usepackage{setspace} %разрыв строк
\usepackage{tikz} %для отрисовывания картинок
\usepackage{import} %что бы tex увидел папки (аля ... chapter_1\chapter_1.tex)
\usepackage{titlesec} %заголовки
\usepackage{tocvsec2} %настройка для оглавления
\usepackage[singlelinecheck=false]{caption} %подписи к таблицам, рисункам

\usepackage{subcaption}
\usepackage{color}
\usepackage{pdfpages} %вставка pdf документов
\usepackage{geometry} %для полей
\usepackage{tocloft} %оформление оглавления
\usepackage[square,numbers,sort&compress]{natbib}

\usepackage{polyglossia}  %% подключает пакет многоязыковой вёрстки
\usepackage{geometry} % Меняем поля страницы
\usepackage{listings}
%~ \usepackage{fancyhdr} %стиль страницы
\usepackage{indentfirst} % красная строка в первом абзаце
\usepackage{cmap} % для кодировки шрифтов в pdf
\usepackage{enumitem}

\setmainfont[Mapping=tex-text]{Times New Roman}%%% Ставим Times New Roman - как основной шрифт
\setmonofont[Scale=MatchLowercase]{Courier New}%%% Courier New - для моноширного текста
\defaultfontfeatures{Mapping=tex-text}%%% Для того чтобы работали стандартные сочетания символов ---, --, << >> и т.п.
\setdefaultlanguage{russian}%%% Для работы с русскими текстами (расстановки переносов)
\newfontfamily\russianfont{Times New Roman}

\geometry{left=3cm}% левое поле
\geometry{right=1.cm}% правое поле
\geometry{top=2.0cm}% верхнее поле
\geometry{bottom=2cm}% нижнее поле


%\pagestyle{fancy}
\pagestyle{plain}
%~ 
%~ \fancyhf{}
%~ \fancyhead[R]{\thepage}
%~ \fancyheadoffset{0mm}
%~ \fancyfootoffset{0mm}
%~ \setlength{\headheight}{15mm}
%~ %\setlength{\topmargin }{0.5mm}
%~ \setlength{\headsep }{0 mm}
%~ \renewcommand{\headrulewidth}{0pt}
%~ \renewcommand{\footrulewidth}{0pt}
%~ \fancypagestyle{plain}{ 
     %~ \fancyhf{}
     %~ \rhead{\thepage}
%~ }

\sloppy{}

\makeatletter
\renewcommand*{\@biblabel}[1]{\hfill#1.}
\makeatother

\newcommand{\err}[1]{\marginpar{<=! #1}}

\usetikzlibrary{positioning, arrows, shapes, snakes}

\tikzstyle{format} = [
                       thin,minimum size=1cm,
                       draw=black,
                       top color=white,
                       bottom color=white,]


 %--------------------------------------------------------%
 \setlength{\parindent}{1.35cm}% величина абзаца

\makeatletter
     \AddEnumerateCounter{\asbuk}{\@asbuk}{м)}
\makeatother
\setlist{nolistsep}
\renewcommand{\labelitemi}{--}
\renewcommand{\labelenumi}{\asbuk{enumi})}
\renewcommand{\labelenumii}{\arabic{enumii})}


\frenchspacing
 
 %изменение в Заглоовках
 
 \titleformat{\chapter}
{
%~ \thispagestyle{myheadings}
\centering\hyphenpenalty=10000\normalfont\Large\bfseries}{
\thechapter\  }{0pt}{\Large}
 
%~ \titleformat{\chapter}[display]
     %~ {\filcenter}
     %~ {\MakeUppercase{\chaptertitlename} \thechapter}
     %~ {8pt}
     %~ {\bfseries}{}
 
\titleformat{\section}
	{\normalsize\bf\upshape}
	{\thesection}
	{14pt}{}
 
\titleformat{\section}
     {\normalsize\bfseries}
     {\thesection}
     {1em}{}
  
\titleformat{\subsection}
     {\normalsize\bfseries}
     {\thesubsection}
     {1em}{}
 

%подписи к рисункам и таблицам
\DeclareCaptionLabelFormat{gostfigure}{Рисунок #2}
\DeclareCaptionLabelFormat{gosttable}{Таблица #2}
\DeclareCaptionLabelSeparator{gost}{~---~}
\captionsetup{labelsep=gost}
\captionsetup[figure]{labelformat=gostfigure,justification=centering}
\captionsetup[table]{labelformat=gosttable,justification=raggedright}
\renewcommand{\thesubfigure}{\asbuk{subfigure}}
 
%оглавление
\renewcommand{\cfttoctitlefont}{\hspace{0.38\textwidth} \bfseries\MakeUppercase}
\renewcommand{\cftbeforetoctitleskip}{-1em}
\renewcommand{\cftchapfont}{\normalsize\bfseries \MakeUppercase{\chaptername} }
\renewcommand{\cftsecfont}{\normalsize}
\renewcommand*{\cftsubsecfont}{\MakeUppercase{\normalsize}}
\renewcommand{\cftsubsubsecfont}{\it}
\renewcommand{\cftbeforechapskip}{0.3cm}
\renewcommand{\cftbeforesecskip}{0.3cm}
\setlength{\cftchapindent}{0cm}
\setlength{\cftsecindent}{0.5cm}
\setlength{\cftsubsecindent}{1.4cm}
\setlength{\cftsubsubsecindent}{2.7cm}
 
%новая команда для отображение введения и прочего добра 
\newcommand{\empline}{\mbox{}\newline}
\newcommand{\likechapterheading}[1]{ 
\begin{center}
	\textbf{\MakeUppercase{#1}}
\end{center}
\empline}

\makeatletter
	\renewcommand{\@dotsep}{2}
	\newcommand{\l@likechapter}[2]{{\bfseries\@dottedtocline{0}{0pt}{0pt}{#1}{#2}}}
\makeatother
\newcommand{\likechapter}[1]{    
	\likechapterheading{#1}    
	\addcontentsline{toc}{likechapter}{\MakeUppercase{#1}}}

%список литературы
\renewcommand{\bibnumfmt}[1]{#1.\hfill} % нумерация источников в самом списке — через точку
\renewcommand{\bibsection}{\likechapter{Список используемых источников}} % заголовок специального раздела
\setlength{\bibsep}{0pt}
 
%глубины 
\setcounter{tocdepth}{4} %оглавление
\setcounter{secnumdepth}{4} %заголовки
 
% для импорта (chapter_XXX), где XXX-номер папки и главы
%\newcommand{\includechapter}[1]{\subimport{chapter-#1/}{chapter-#1}}

% Настройка вертикальных и горизонтальных отступов
\titlespacing*{\chapter}{0.6cm}{0cm}{0.24cm}
\titlespacing*{\section}{0.95cm}{0cm}{0.18cm}
\titlespacing*{\subsection}{1.4cm}{0cm}{0.18cm}
\titlespacing*{\subsubsection}{1.8cm}{0cm}{0.18cm}
  
\renewcommand{\baselinestretch}{1.25}  
  
\begin{document}

\input{titleDiplom}
\setcounter{page}{2}
\renewcommand{\contentsname}{Оглавление}
\tableofcontents
\input{introduction}
\input{body}
\input{conclusion}
%\marginpar{просто сноска}

\appendix{}
\include{appendix}
\end{document} 
